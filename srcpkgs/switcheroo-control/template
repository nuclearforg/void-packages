# Template file for 'switcheroo-control'
pkgname=switcheroo-control
version=2.4
revision=1
build_style=meson
hostmakedepends="pkg-config glib-devel"
makedepends="libgudev-devel"
short_desc="D-Bus service to check the availability of dual-GPU"
maintainer="Francesco Circhetta <francesco.circhetta@gmail.com>"
license="GPL-3.0-or-later"
homepage="https://gitlab.freedesktop.org/hadess/switcheroo-control"
distfiles="https://gitlab.freedesktop.org/hadess/switcheroo-control/-/archive/${version}/switcheroo-control-${version}.tar.gz"
checksum=9ef1e6ed3105438be66fbced21a9e894f7b7e2d4e3abd612fb875f5642fd4ba4
patch_args="-Np1"

post_install() {
	vinstall ${FILESDIR}/net.hadess.SwitcherooControl.service 644 usr/share/dbus-1/system-services
}
